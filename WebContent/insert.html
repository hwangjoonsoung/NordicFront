<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <!-- <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=68f650077e726d080433ae45c322df48"></script> 
    <script>
    function post() {
        window.open("", "post", "width=200,height=300,scrollbars=yes");
      }
    </script>
    <script src="http://dmaps.daum.net/map_js_init/postcode.v2.js"></script>
    <script>
      function openDaumPostcode() {
        new daum.Postcode({
          oncomplete: function (data) {
            // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.
            // 우편번호와 주소 정보를 해당 필드에 넣고, 커서를 상세주소 필드로 이동한다.
            //				document.getElementById('join_zip1').value = data.postcode1;
            //				document.getElementById('join_zip2').value = data.postcode2;
            document.getElementById("post").value = data.zonecode;
            document.getElementById("address").value = data.address;
          },
        }).open();
      }
    </script> -->

    <script>
        $(document).ready(function () {
            $("#submitBtn").click(function () {
                $.ajax({
                    url: "http://localhost/insertData",
                    method: "post",
                    contentType: "application/json",
                    data: JSON.stringify({
                        mission_name: $("#mission_name").val(),
                        start_date: $("#start_date").val(),
                        end_date: $("#end_date").val(),
                        level_code: $("#level_code").val(),
                        point: $("#point").val(),
                        remark: $("#remark").val(),
                        address1: $("#post").val(),
                        address2: $("#address").val(),
                        use_yn: "Y",
                        create_member: "changevalue",
                        update_member: "changevalue",
                    }),
                    success: function (success) {
                        $.ajax({
                            url: "http://localhost/insertImage/test",
                            type: "POST",
                            data: new FormData($("#upload-file-form")[0]),
                            enctype: 'multipart/form-data',
                            processData: false,
                            contentType: false,
                            cache: false,
                            success: function () {
                                // Handle upload success
                                // ...
                            },
                            error: function () {
                                // Handle upload error
                                // ...
                            }
                        });
                        // $.ajax({
                        //     type: "POST",
                        //     enctype: 'multipart/form-data',	// 필수
                        //     url: 'http://localhost/insertImage/test',
                        //     data: formData,		// 필수
                        //     processData: false,	// 필수
                        //     contentType: false,	// 필수
                        //     cache: false,
                        //     success: function (result) {
                        //     },
                        //     error: function (e) {
                        //     }
                        // });
                    },
                    error: function (error) {
                        console.log(error);
                    },
                });
                // $.ajax({
                //   url: "http://localhost/insertImage/"+,
                //   method: "post",
                //   contentType : "application/json",
                //   data: JSON.stringify({
                //     uploadfiles: $("#uploadfiles").val(),
                //     start_date : $("#start_date").val(),
                //     end_date : $("#end_date").val(),

                //   }),
                //   success: function (success) {
                //     console.log(success);
                //   },
                //   error: function (error) {
                //     console.log(error);
                //   },
                // });

            });
        });
    </script>
    <title>Document</title>
</head>
<body>
    <table border="1">
        <tr>
            <th>mission_name</th>
            <td><input type="text" id="mission_name" name="mission_name"/></td>
        </tr>
        <tr>
            <th>시작일</th>
            <td><input type="date" name="start_date" id="start_date"></td>
        </tr>
        <tr>
            <th>종료일</th>
            <td><input type="date" name="end_date" id="end_date"></td>
        </tr>
        <tr>
            <th>level_code</th>
            <td>
                <select name="level_code" id="level_code">
                    <option value="">선택하세요</option>
                    <option value="상">상</option>
                    <option value="중">중</option>
                    <option value="하">하</option>
                </select>
            </td>
        </tr>
        <tr>
            <th>point</th>
            <td><input type="text" name="point" id="point"/></td>
        </tr>
        <tr>
        <tr>
            <th>우편번호</th>
            <td>
                <input type="text" size="5" maxlength="5" name="post" id="post"/>
                <!-- <input
                  type="button"
                  value="우편검색"
                  onclick="openDaumPostcode()"
                /> -->
            </td>
        </tr>
        <tr>
            <th>주소</th>
            <td><input type="text" size="50" name="address" id="address"/></td>
        </tr>
        </tr>
        <tr>
            <th>사진</th>
            <td>
                <form id="upload-file-form" enctype="multipart/form-data"><input type="file" multiple="multiple" name="uploadfiles"
                                                                      id="uploadfiles"></form>
            </td>
        </tr>
        <tr>
            <th>설명</th>
            <td><textarea name="remark" id="remark" cols="30" rows="10"></textarea></td>
        </tr>
        <tr>
            <td colspan="2" align="center"><input type="button" id="submitBtn" value="전송"/></td>
        </tr>
        <!-- <script>
          var mapContainer = document.getElementById('map'), // 지도를 표시할 div
              mapOption = {
                  center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
                  level: 3 // 지도의 확대 레벨
              };

          // 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다
          var map = new kakao.maps.Map(mapContainer, mapOption);
          </script> --></table>
</body>
</html>
